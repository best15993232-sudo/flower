<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="format-detection" content="telephone=no">
    <title>ë¸”ë£¸ ë”œë¦¬ë²„ë¦¬ - ë‹¹ì‹ ì˜ ë§ˆìŒì„ ì „í•˜ì„¸ìš”</title>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
    <style>
        :root {
            /* ê°ì„±ì ì¸ ì»¬ëŸ¬ íŒ”ë ˆíŠ¸ */
            --primary: #FF8A80;       /* ë¶€ë“œëŸ¬ìš´ ì½”ë„ í•‘í¬ */
            --primary-dark: #E57373;  /* ì§„í•œ ì½”ë„ */
            --accent: #81C784;        /* ìì—°ìŠ¤ëŸ¬ìš´ ê·¸ë¦° */
            --bg: #FDFBF7;            /* ë”°ëœ»í•œ ì•„ì´ë³´ë¦¬ ë°°ê²½ */
            --surface: #FFFFFF;       /* ì¹´ë“œ ë°°ê²½ */
            --text-main: #2C2C2C;     /* ì§„í•œ íšŒìƒ‰ í…ìŠ¤íŠ¸ */
            --text-sub: #8D8D8D;      /* ì—°í•œ íšŒìƒ‰ í…ìŠ¤íŠ¸ */
            --border: #F0F0F0;
            --shadow: 0 10px 30px rgba(0, 0, 0, 0.04);
            --shadow-hover: 0 15px 35px rgba(0, 0, 0, 0.08);
            --radius: 20px;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            -webkit-tap-highlight-color: transparent;
        }

        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: var(--bg);
            color: var(--text-main);
            line-height: 1.5;
            min-height: 100vh;
        }

        /* ìŠ¤í¬ë¡¤ë°” ì»¤ìŠ¤í…€ */
        ::-webkit-scrollbar {
            width: 6px;
            height: 6px;
        }
        ::-webkit-scrollbar-track { background: transparent; }
        ::-webkit-scrollbar-thumb { background: #ddd; border-radius: 3px; }

        .container {
            max-width: 500px;
            margin: 0 auto;
            background: var(--surface);
            min-height: 100vh;
            box-shadow: 0 0 40px rgba(0,0,0,0.03);
            position: relative;
            padding-bottom: 80px;
        }

        /* í—¤ë” ìŠ¤íƒ€ì¼ë§ */
        .header {
            text-align: left;
            padding: 40px 24px 20px;
            background: linear-gradient(180deg, #FFF5F5 0%, #FFFFFF 100%);
        }

        .header-top {
            font-family: 'Playfair Display', serif;
            font-size: 14px;
            color: var(--primary);
            letter-spacing: 1px;
            margin-bottom: 8px;
            font-weight: 600;
        }

        .header h1 {
            font-size: 26px;
            font-weight: 700;
            color: var(--text-main);
            line-height: 1.3;
            margin-bottom: 8px;
        }

        .header p {
            font-size: 14px;
            color: var(--text-sub);
        }

        /* ê²€ìƒ‰ ì„¹ì…˜ */
        .search-section {
            padding: 24px;
            position: sticky;
            top: 0;
            background: var(--surface);
            z-index: 99;
            border-bottom: 1px solid var(--border);
        }

        .search-label {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-main);
            margin-bottom: 10px;
            display: none;
        }

        .search-wrapper {
            position: relative;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .search-box {
            position: relative;
            display: flex;
            align-items: center;
        }

        .search-input {
            width: 100%;
            padding: 16px 20px;
            padding-right: 100px;
            background: #F8F9FA;
            border: 1px solid transparent;
            border-radius: 16px;
            font-size: 16px;
            color: var(--text-main);
            font-weight: 500;
            font-family: inherit;
            outline: none;
            transition: all 0.3s ease;
        }

        .search-input:focus {
            background: #fff;
            border-color: var(--primary);
            box-shadow: 0 0 0 4px rgba(255, 138, 128, 0.1);
        }

        .search-input::placeholder {
            color: #bbb;
        }

        .address-search-btn {
            position: absolute;
            right: 8px;
            top: 50%;
            transform: translateY(-50%);
            padding: 8px 12px;
            background: #fff;
            border: 1px solid #eee;
            color: var(--text-main);
            border-radius: 10px;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
            transition: all 0.2s ease;
        }

        .address-search-btn:hover {
            background: #FFF5F5;
            border-color: var(--primary);
        }

        .search-btn {
            width: 100%;
            padding: 16px;
            background: var(--text-main);
            color: #fff;
            border: none;
            border-radius: 16px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 4px 12px rgba(44, 44, 44, 0.2);
        }

        .search-btn:hover {
            background: #1a1a1a;
        }

        .search-btn:active {
            transform: scale(0.98);
        }

        /* ê²€ìƒ‰ ê²°ê³¼ ë° ë¦¬ìŠ¤íŠ¸ */
        .shop-list-section {
            padding: 24px;
            background: var(--bg);
            min-height: 400px;
        }

        .result-info {
            font-size: 15px;
            color: var(--text-main);
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .result-info strong {
            color: var(--primary-dark);
            font-weight: 700;
        }

        /* ê½ƒì§‘ ë¦¬ìŠ¤íŠ¸ */
        .shop-list {
            display: flex;
            flex-direction: column;
            gap: 24px;
        }

        .shop-card {
            background: #fff;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            border: none;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .shop-card:hover {
            transform: translateY(-5px);
            box-shadow: var(--shadow-hover);
        }

        .shop-header {
            padding: 20px;
            background: #fff;
            border-bottom: 1px solid #f5f5f5;
        }

        .shop-name {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-main);
            display: flex;
            align-items: center;
            gap: 6px;
        }

        .shop-name::before {
            content: '';
            display: block;
            width: 4px;
            height: 18px;
            background: var(--primary);
            border-radius: 2px;
        }

        /* ê°¤ëŸ¬ë¦¬ ìŠ¤íƒ€ì¼ */
        .gallery-wrapper {
            padding: 20px 0 10px;
        }

        .shop-gallery {
            padding: 0 20px;
            display: flex;
            gap: 12px;
            overflow-x: auto;
            scroll-behavior: smooth;
            padding-bottom: 15px;
            -webkit-overflow-scrolling: touch;
            scrollbar-width: none;
        }

        .shop-gallery::-webkit-scrollbar {
            display: none;
        }

        .gallery-item {
            width: 130px;
            flex-shrink: 0;
            cursor: pointer;
        }

        .gallery-img {
            width: 130px;
            height: 130px;
            border-radius: 16px;
            background: #F2F2F2;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #aaa;
            font-size: 12px;
            transition: transform 0.2s;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }

        .gallery-item:hover .gallery-img {
            transform: scale(1.03);
        }

        .gallery-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .gallery-info-box {
            margin-top: 10px;
            text-align: left;
        }

        .gallery-price {
            font-size: 14px;
            font-weight: 700;
            color: var(--text-main);
            margin-top: 10px;
            text-align: left;
        }

        .gallery-type {
            font-size: 11px;
            color: var(--text-sub);
            margin-bottom: 2px;
            display: block;
            text-align: left;
        }

        /* ê°¤ëŸ¬ë¦¬ ë„¤ë¹„ê²Œì´ì…˜ */
        .gallery-nav {
            padding: 0 20px 10px;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .gallery-scrollbar {
            height: 3px;
            background: #f0f0f0;
            border-radius: 2px;
            flex: 1;
            margin-right: 15px;
            overflow: hidden;
        }

        .gallery-scrollbar-thumb {
            height: 100%;
            background: var(--primary);
            border-radius: 2px;
            width: 20%;
            transition: width 0.2s, margin-left 0.1s;
        }

        .gallery-arrows {
            display: flex;
            gap: 6px;
        }

        .gallery-arrow-btn {
            width: 28px;
            height: 28px;
            border: 1px solid #eee;
            background: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            color: #888;
            transition: all 0.2s;
        }

        .gallery-arrow-btn:hover {
            border-color: var(--primary);
            color: var(--primary);
            background: #FFF5F5;
        }

        .gallery-arrow-btn:active {
            transform: scale(0.95);
        }

        .gallery-arrow-btn svg {
            width: 14px;
            height: 14px;
            stroke: currentColor;
            fill: none;
            stroke-width: 2;
        }

        /* ëª¨ë°”ì¼ì—ì„œ í™”ì‚´í‘œ ë²„íŠ¼ ìˆ¨ê¹€ */
        @media (max-width: 480px) {
            .gallery-item { width: 110px; }
            .gallery-img { width: 110px; height: 110px; }
            .gallery-arrows { display: none; }
        }

        /* ìƒí’ˆ í™•ëŒ€ ëª¨ë‹¬ */
        .image-modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
            z-index: 10002;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .image-modal-overlay.show {
            display: flex;
        }

        .image-modal-content {
            background: #fff;
            border-radius: 24px;
            max-width: 400px;
            width: 100%;
            max-height: 90vh;
            overflow: hidden;
            position: relative;
            animation: modalZoomIn 0.3s ease;
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
        }

        @keyframes modalZoomIn {
            from {
                transform: scale(0.8);
                opacity: 0;
            }
            to {
                transform: scale(1);
                opacity: 1;
            }
        }

        .image-modal-close {
            position: absolute;
            top: 12px;
            right: 12px;
            width: 36px;
            height: 36px;
            border: none;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 50%;
            font-size: 24px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #fff;
            z-index: 1;
            transition: background 0.2s;
        }

        .image-modal-close:hover {
            background: rgba(0, 0, 0, 0.7);
        }

        .image-modal-img {
            width: 100%;
            height: 350px;
            background: #eee;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #999;
            font-size: 18px;
        }

        .image-modal-img img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        .image-modal-info {
            padding: 20px;
            text-align: center;
        }

        .image-modal-type {
            font-size: 14px;
            color: #888;
            margin-bottom: 8px;
        }

        .image-modal-price {
            font-size: 24px;
            font-weight: 700;
            color: var(--primary-dark);
            cursor: pointer;
            padding: 10px 20px;
            border-radius: 8px;
            transition: background 0.2s;
            background: #FFF5F5;
            display: inline-block;
            margin: 10px auto;
        }

        .image-modal-price:hover {
            background: #FFE0DE;
        }

        .image-modal-hint {
            font-size: 12px;
            color: #999;
            margin-top: 8px;
        }

        /* ë°°ì†¡ í¬ë§ì¼ì‹œ */
        .delivery-time-wrapper {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .delivery-date-row {
            display: flex;
            align-items: center;
            gap: 8px;
            flex-wrap: wrap;
        }

        .delivery-date-row input[type="date"] {
            flex: 2;
            min-width: 140px;
            padding: 14px 16px;
            border: 1px solid #eee;
            border-radius: 12px;
            font-size: 15px;
            font-family: inherit;
            outline: none;
            background: #F8F9FA;
            transition: border-color 0.2s ease, box-shadow 0.2s ease;
        }

        .delivery-date-row input[type="date"]:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 138, 128, 0.1);
            background: #fff;
        }

        .delivery-date-row select {
            flex: 1;
            min-width: 80px;
            padding: 14px 16px;
            border: 1px solid #eee;
            border-radius: 12px;
            font-size: 15px;
            font-family: inherit;
            outline: none;
            appearance: none;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E") no-repeat right 14px center;
            background-color: #F8F9FA;
            cursor: pointer;
        }

        .delivery-date-row select:focus {
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 138, 128, 0.1);
            background-color: #fff;
        }

        .day-of-week {
            font-size: 14px;
            font-weight: 600;
            color: var(--primary);
            white-space: nowrap;
        }

        .asap-option {
            display: flex;
            align-items: center;
            gap: 8px;
            padding: 12px;
            background: #f8f9fa;
            border-radius: 12px;
            cursor: pointer;
            font-size: 14px;
            color: #555;
        }

        .asap-option input[type="checkbox"] {
            width: 18px;
            height: 18px;
            accent-color: var(--primary);
            cursor: pointer;
        }

        .asap-option span {
            font-weight: 500;
        }

        .delivery-date-row.disabled input,
        .delivery-date-row.disabled select {
            background-color: #f5f5f5;
            color: #999;
            pointer-events: none;
        }

        @media (max-width: 480px) {
            .image-modal-content {
                max-width: 90%;
            }

            .image-modal-img {
                height: 250px;
            }
        }

        /* ê½ƒì§‘ ì„ íƒ ë²„íŠ¼ */
        .shop-footer {
            padding: 16px 20px;
            border-top: 1px solid #f5f5f5;
        }

        .select-shop-btn {
            width: 100%;
            padding: 14px;
            background: var(--primary);
            color: #fff;
            border: none;
            border-radius: 14px;
            font-size: 15px;
            font-weight: 600;
            cursor: pointer;
            transition: background 0.2s;
        }

        .select-shop-btn:hover {
            background: var(--primary-dark);
        }

        /* ì£¼ë¬¸ì„œ ì„¹ì…˜ */
        .order-section {
            display: none;
            background: #fff;
            min-height: 100vh;
            padding-bottom: 100px;
            animation: fadeIn 0.4s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .order-section.active {
            display: block;
        }

        .order-header {
            padding: 20px 24px;
            border-bottom: 1px solid #eee;
            position: sticky;
            top: 0;
            background: rgba(255,255,255,0.95);
            backdrop-filter: blur(10px);
            z-index: 100;
            display: flex;
            align-items: center;
        }

        .back-btn {
            background: none;
            border: none;
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 16px;
            font-weight: 600;
            color: var(--text-main);
            cursor: pointer;
        }

        .back-btn svg {
            width: 24px;
            height: 24px;
            stroke: currentColor;
        }

        .back-btn:hover {
            color: var(--primary);
        }

        .order-content {
            padding: 24px;
        }

        .selected-shop-info {
            background: #FFF5F5;
            padding: 20px;
            border-radius: 16px;
            margin-bottom: 30px;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .shop-icon {
            width: 40px;
            height: 40px;
            background: #fff;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
        }

        .selected-shop-info p {
            font-size: 14px;
            color: var(--text-sub);
        }

        .selected-shop-info strong {
            font-weight: 700;
            color: var(--text-main);
        }

        .order-form {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }

        .form-section-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-main);
            margin: 30px 0 16px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .form-section-title::before {
            content: '';
            width: 6px;
            height: 6px;
            background: var(--primary);
            border-radius: 50%;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-sub);
            margin-bottom: 8px;
        }

        .form-group label .required {
            color: var(--primary);
            margin-left: 2px;
        }

        .form-group input,
        .form-group select,
        .form-group textarea {
            width: 100%;
            padding: 14px 16px;
            background: #F8F9FA;
            border: 1px solid #eee;
            border-radius: 12px;
            font-size: 15px;
            color: var(--text-main);
            font-family: inherit;
            outline: none;
            transition: all 0.2s;
        }

        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }

        .form-group input:focus,
        .form-group select:focus,
        .form-group textarea:focus {
            background: #fff;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(255, 138, 128, 0.1);
        }

        .form-group input::placeholder,
        .form-group textarea::placeholder {
            color: #bbb;
        }

        .form-group select {
            appearance: none;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' viewBox='0 0 24 24' fill='none' stroke='%23666' stroke-width='2'%3E%3Cpath d='M6 9l6 6 6-6'/%3E%3C/svg%3E") no-repeat right 14px center;
            background-color: #F8F9FA;
            cursor: pointer;
        }

        .form-group select:focus {
            background-color: #fff;
        }

        /* ìƒ‰ìƒ ì„ íƒ ì˜µì…˜ */
        .color-options {
            display: flex;
            flex-wrap: wrap;
            gap: 12px;
        }

        .color-option {
            display: flex;
            flex-direction: column;
            align-items: center;
            cursor: pointer;
            width: calc(33.33% - 8px);
            padding: 12px;
            border: 2px solid #eee;
            border-radius: 16px;
            background: #fff;
            transition: all 0.2s;
        }

        .color-option:hover {
            border-color: #ddd;
        }

        .color-option.selected {
            border-color: var(--primary);
            background: #FFF5F5;
        }

        .color-dot {
            width: 24px;
            height: 24px;
            border-radius: 50%;
            margin-bottom: 8px;
            border: 1px solid rgba(0,0,0,0.05);
            box-shadow: inset 0 2px 4px rgba(0,0,0,0.1);
        }

        .color-dot.red { background: #FF5252; }
        .color-dot.pink { background: #FF80AB; }
        .color-dot.yellow { background: #FFD740; }
        .color-dot.white { background: #FFFFFF; border: 1px solid #ddd; }
        .color-dot.purple { background: #E040FB; }
        .color-dot.mixed { background: linear-gradient(135deg, #FF5252, #FFD740, #E040FB); }

        .color-label {
            font-size: 13px;
            font-weight: 500;
            color: var(--text-main);
        }

        /* ì£¼ë¬¸ ë²„íŠ¼ ì˜ì—­ */
        .order-buttons {
            margin-top: 40px;
        }

        .btn-kakao-order {
            width: 100%;
            padding: 18px;
            background: #FEE500;
            color: #191919;
            border: none;
            border-radius: 16px;
            font-size: 16px;
            font-weight: 700;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            transition: transform 0.2s;
        }

        .btn-kakao-order:hover {
            background: #F5D800;
        }

        .btn-kakao-order:active {
            transform: scale(0.98);
        }

        .btn-kakao-order svg {
            width: 24px;
            height: 24px;
            fill: #191919;
        }

        .order-notice {
            margin-top: 16px;
            text-align: center;
        }

        .order-notice p {
            font-size: 13px;
            color: #999;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 4px;
        }

        /* ê´‘ê³  êµ¬ì¢Œ */
        .ad-section {
            padding: 0 24px;
            margin-top: 40px;
        }

        .ad-placeholder {
            width: 100%;
            height: 120px;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 16px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
            font-weight: 500;
            font-size: 14px;
            overflow: hidden;
        }

        .ad-placeholder img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }

        /* í‘¸í„° */
        .footer {
            margin-top: 40px;
            padding: 40px 24px;
            text-align: center;
            background: #f8f9fa;
            border-top: 1px solid #eee;
        }

        .footer p {
            font-size: 12px;
            color: #aaa;
            margin-bottom: 6px;
        }

        /* í† ìŠ¤íŠ¸ ë©”ì‹œì§€ */
        .toast {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.8);
            background: rgba(44, 44, 44, 0.95);
            color: white;
            backdrop-filter: blur(8px);
            padding: 16px 24px;
            border-radius: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            font-weight: 500;
            font-size: 15px;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 10001;
            pointer-events: none;
        }

        .toast.show {
            transform: translate(-50%, -50%) scale(1);
            opacity: 1;
        }

        /* ì¹´í†¡ ë¬¸ì˜ í”Œë¡œíŒ… ë²„íŠ¼ */
        .kakao-float-btn {
            position: fixed;
            bottom: 24px;
            right: 24px;
            width: 60px;
            height: 60px;
            background: #fae100;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            border: 2px solid #fff;
            cursor: pointer;
            z-index: 9999;
            text-decoration: none;
            transition: transform 0.2s, box-shadow 0.2s;
        }

        .kakao-float-btn:hover {
            transform: scale(1.1);
            box-shadow: 0 6px 16px rgba(0, 0, 0, 0.2);
        }

        .kakao-float-btn span {
            display: none;
        }

        .kakao-float-btn svg {
            width: 28px;
            height: 28px;
            fill: #3c1e1e;
        }

        .kakao-float-btn span {
            font-size: 9px;
            font-weight: 700;
            color: #3c1e1e;
            margin-top: 2px;
        }

        /* ì£¼ì†Œ ê²€ìƒ‰ ëª¨ë‹¬ */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.6);
            backdrop-filter: blur(4px);
            z-index: 10000;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .modal-overlay.show {
            display: flex;
        }

        .modal-content {
            background: #fff;
            border-radius: 24px;
            width: 100%;
            max-width: 500px;
            max-height: 80vh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            box-shadow: 0 20px 50px rgba(0,0,0,0.2);
        }

        .modal-header {
            padding: 20px;
            border-bottom: 1px solid #f0f0f0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .modal-header h3 {
            font-size: 18px;
            font-weight: 700;
            color: var(--text-main);
        }

        .modal-close {
            width: 32px;
            height: 32px;
            border: none;
            background: #f0f0f0;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            color: #666;
        }

        .modal-close:hover {
            background: #e0e0e0;
        }

        .modal-body {
            padding: 20px;
            overflow-y: auto;
            flex: 1;
        }

        .modal-search-box {
            display: flex;
            gap: 8px;
            margin-bottom: 16px;
        }

        .modal-search-input {
            flex: 1;
            padding: 14px 16px;
            border: 1px solid #eee;
            border-radius: 12px;
            font-size: 15px;
            outline: none;
            background: #F8F9FA;
        }

        .modal-search-input:focus {
            border-color: var(--primary);
            background: #fff;
        }

        .modal-search-btn {
            padding: 14px 20px;
            background: var(--text-main);
            color: #fff;
            border: none;
            border-radius: 12px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
        }

        .modal-search-btn:hover {
            background: #1a1a1a;
        }

        .places-list {
            list-style: none;
        }

        .places-list .item {
            padding: 16px 20px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
            transition: background 0.2s;
            margin: 0 -20px;
        }

        .places-list .item:hover {
            background: #FFF5F5;
        }

        .places-list .item:last-child {
            border-bottom: none;
        }

        .places-list .info h5 {
            font-size: 15px;
            font-weight: 600;
            color: var(--text-main);
            margin-bottom: 4px;
        }

        .places-list .info span {
            font-size: 13px;
            color: var(--text-sub);
            display: block;
        }

        .search-status {
            text-align: center;
            padding: 20px;
            color: var(--text-sub);
            font-size: 14px;
        }

        .pagination {
            display: flex;
            justify-content: center;
            gap: 8px;
            margin-top: 16px;
        }

        .pagination a {
            padding: 8px 14px;
            border: 1px solid #eee;
            border-radius: 8px;
            color: #666;
            text-decoration: none;
            font-size: 14px;
        }

        .pagination a:hover {
            background: #f0f0f0;
        }

        .pagination a.on {
            background: var(--primary);
            color: #fff;
            border-color: var(--primary);
        }

        /* ëª¨ë°”ì¼ ìµœì í™” */
        @media (max-width: 480px) {
            .container {
                padding-bottom: 60px;
            }

            .header {
                padding: 30px 20px 16px;
            }

            .header h1 {
                font-size: 22px;
            }

            .search-section {
                padding: 20px;
            }

            .search-input {
                padding: 14px 16px;
                padding-right: 90px;
                font-size: 15px;
            }

            .address-search-btn {
                padding: 6px 10px;
                font-size: 12px;
            }

            .search-btn {
                padding: 14px;
                font-size: 15px;
            }

            .shop-list-section {
                padding: 20px;
            }

            .shop-name {
                font-size: 16px;
            }

            .form-group input,
            .form-group select,
            .form-group textarea {
                padding: 12px 14px;
                font-size: 14px;
            }

            .order-buttons {
                margin-top: 30px;
            }

            .btn-kakao-order {
                padding: 16px;
                font-size: 15px;
            }

            .kakao-float-btn {
                bottom: 16px;
                right: 16px;
                width: 54px;
                height: 54px;
            }

            .kakao-float-btn svg {
                width: 24px;
                height: 24px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- í—¤ë” -->
        <header class="header">
            <div class="header-top">Bloom Delivery</div>
            <h1>ë§ˆìŒì„ ë‹´ì€ ê½ƒ,<br>ì§€ê¸ˆ ì„ ë¬¼í•˜ì„¸ìš”</h1>
            <p>ì „êµ­ ì—„ì„ ëœ í”Œë¡œë¦¬ìŠ¤íŠ¸ê°€ ì§ì ‘ ì œì‘í•©ë‹ˆë‹¤</p>
        </header>

        <!-- ê²€ìƒ‰ ì„¹ì…˜ -->
        <section class="search-section" id="searchSection">
            <div class="search-wrapper">
                <div class="search-box">
                    <input type="text" class="search-input" id="searchInput" placeholder="ë°›ìœ¼ì‹¤ ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”">
                    <button class="address-search-btn" onclick="openPlaceSearchModal()">ì£¼ì†Œê²€ìƒ‰</button>
                </div>
                <button class="search-btn" onclick="searchShops()">ì£¼ë³€ ê½ƒì§‘ ì°¾ê¸°</button>
            </div>
        </section>

        <!-- ê½ƒì§‘ ëª©ë¡ ì„¹ì…˜ -->
        <section class="shop-list-section" id="shopListSection">
            <div class="result-info" id="resultInfo" style="display: none;">
                <span id="searchedArea"></span> ê·¼ì²˜ì—ì„œ <strong id="shopCount">0</strong>ê°œì˜ ê½ƒì§‘ì„ ì°¾ì•˜ì–´ìš”
            </div>
            <div class="shop-list" id="shopList">
                <!-- ê½ƒì§‘ ì¹´ë“œê°€ ì—¬ê¸°ì— ë™ì ìœ¼ë¡œ ì¶”ê°€ë©ë‹ˆë‹¤ -->
            </div>
        </section>

        <!-- ì£¼ë¬¸ì„œ ì„¹ì…˜ -->
        <section class="order-section" id="orderSection">
            <div class="order-header">
                <button class="back-btn" onclick="goBack()">
                    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M19 12H5"/><path d="M12 19l-7-7 7-7"/></svg>
                    ëŒì•„ê°€ê¸°
                </button>
            </div>

            <div class="order-content">
                <div class="selected-shop-info" id="selectedShopInfo">
                    <div class="shop-icon">ğŸ¡</div>
                    <div>
                        <p>ì„ íƒí•˜ì‹  ê½ƒì§‘</p>
                        <p><strong id="selectedShopName"></strong></p>
                    </div>
                </div>

                <form class="order-form" id="orderForm" onsubmit="submitOrder(event)">
                    <!-- ìƒí’ˆ ì •ë³´ -->
                    <div class="form-section-title">ì–´ë–¤ ê½ƒì„ ë³´ë‚´ì‹œë‚˜ìš”?</div>

                    <div class="form-group">
                        <label>ê½ƒ ì¢…ë¥˜ <span class="required">*</span></label>
                        <select id="flowerType" required>
                            <option value="">ì¢…ë¥˜ë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”</option>
                            <option value="bouquet">ğŸ’ ê½ƒë‹¤ë°œ</option>
                            <option value="basket">ğŸ§º ê½ƒë°”êµ¬ë‹ˆ</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>ì˜ˆì‚° <span class="required">*</span></label>
                        <select id="priceRange" required>
                            <option value="">ì›í•˜ì‹œëŠ” ê°€ê²©ëŒ€</option>
                            <option value="30000">5ë§Œì›ëŒ€ (ê°€ë²¼ìš´ ì„ ë¬¼)</option>
                            <option value="50000">5ë§Œì›ëŒ€ (ê°€ì¥ ì¸ê¸°)</option>
                            <option value="70000">7ë§Œì›ëŒ€ (í’ì„±í•˜ê²Œ)</option>
                            <option value="100000">10ë§Œì›ëŒ€ (íŠ¹ë³„í•œ ë‚ )</option>
                            <option value="150000">15ë§Œì› ì´ìƒ (í”„ë¦¬ë¯¸ì—„)</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label>ë©”ì¸ ì»¬ëŸ¬í†¤ <span class="required">*</span></label>
                        <div class="color-options" id="colorOptions">
                            <div class="color-option" data-color="red" onclick="selectColor(this)">
                                <span class="color-dot red"></span>
                                <span class="color-label">ë¡œë§¨í‹± ë ˆë“œ</span>
                            </div>
                            <div class="color-option" data-color="pink" onclick="selectColor(this)">
                                <span class="color-dot pink"></span>
                                <span class="color-label">ëŸ¬ë¸”ë¦¬ í•‘í¬</span>
                            </div>
                            <div class="color-option" data-color="yellow" onclick="selectColor(this)">
                                <span class="color-dot yellow"></span>
                                <span class="color-label">í™”ì‚¬í•œ ì˜ë¡œìš°</span>
                            </div>
                            <div class="color-option" data-color="white" onclick="selectColor(this)">
                                <span class="color-dot white"></span>
                                <span class="color-label">ìˆœìˆ˜ í™”ì´íŠ¸</span>
                            </div>
                            <div class="color-option" data-color="purple" onclick="selectColor(this)">
                                <span class="color-dot purple"></span>
                                <span class="color-label">ìš°ì•„í•œ í¼í”Œ</span>
                            </div>
                            <div class="color-option" data-color="mixed" onclick="selectColor(this)">
                                <span class="color-dot mixed"></span>
                                <span class="color-label">í”Œë¡œë¦¬ìŠ¤íŠ¸ ì¶”ì²œ</span>
                            </div>
                        </div>
                        <input type="hidden" id="selectedColor" required>
                    </div>

                    <!-- ì£¼ë¬¸ì ì •ë³´ -->
                    <div class="form-section-title">ì£¼ë¬¸í•˜ì‹œëŠ” ë¶„</div>

                    <div class="form-group">
                        <label>ì„±í•¨ <span class="required">*</span></label>
                        <input type="text" id="senderName" placeholder="ë³´ë‚´ì‹œëŠ” ë¶„ ì„±í•¨" required>
                    </div>

                    <div class="form-group">
                        <label>ì—°ë½ì²˜ <span class="required">*</span></label>
                        <input type="tel" id="senderPhone" placeholder="ì—°ë½ ë°›ìœ¼ì‹¤ ë²ˆí˜¸" required>
                    </div>

                    <!-- ë°›ëŠ”ë¶„ ì •ë³´ -->
                    <div class="form-section-title">ë°›ìœ¼ì‹œëŠ” ë¶„</div>

                    <div class="form-group">
                        <label>ì„±í•¨ <span class="required">*</span></label>
                        <input type="text" id="receiverName" placeholder="ë°›ìœ¼ì‹œëŠ” ë¶„ ì„±í•¨" required>
                    </div>

                    <div class="form-group">
                        <label>ì—°ë½ì²˜ <span class="required">*</span></label>
                        <input type="tel" id="receiverPhone" placeholder="ë°›ìœ¼ì‹œëŠ” ë¶„ ì—°ë½ì²˜" required>
                    </div>

                    <div class="form-group">
                        <label>ë°°ì†¡ ì£¼ì†Œ <span class="required">*</span></label>
                        <input type="text" id="receiverAddress" placeholder="ì£¼ì†Œë¥¼ ê²€ìƒ‰í•´ì£¼ì„¸ìš”" required readonly onclick="showToast('ë°°ì†¡ ì£¼ì†ŒëŠ” ê½ƒì§‘ ì„ íƒ ì „ ê²€ìƒ‰í•´ì£¼ì„¸ìš”')">
                    </div>

                    <div class="form-group">
                        <label>ìƒì„¸ ì£¼ì†Œ</label>
                        <input type="text" id="receiverAddressDetail" placeholder="ë™/í˜¸ìˆ˜, ê³µë™í˜„ê´€ ë¹„ë°€ë²ˆí˜¸ ë“±">
                    </div>

                    <div class="form-group">
                        <label>ë°°ì†¡ í¬ë§ì¼ì‹œ</label>
                        <div class="delivery-time-wrapper">
                            <label class="asap-option">
                                <input type="checkbox" id="asapDelivery" onchange="toggleAsapDelivery()">
                                <span>ğŸš€ ì¤€ë¹„ë˜ëŠ” ëŒ€ë¡œ ê°€ì¥ ë¹ ë¥´ê²Œ ë³´ë‚´ì£¼ì„¸ìš”</span>
                            </label>
                            <div class="delivery-date-row">
                                <input type="date" id="deliveryDate" onchange="updateDayOfWeek()">
                                <select id="deliveryHour">
                                    <option value="">ì‹œê°„</option>
                                    <option value="09">09ì‹œê¹Œì§€</option>
                                    <option value="10">10ì‹œê¹Œì§€</option>
                                    <option value="11">11ì‹œê¹Œì§€</option>
                                    <option value="12">12ì‹œê¹Œì§€</option>
                                    <option value="13">ì˜¤í›„ 1ì‹œê¹Œì§€</option>
                                    <option value="14">ì˜¤í›„ 2ì‹œê¹Œì§€</option>
                                    <option value="15">ì˜¤í›„ 3ì‹œê¹Œì§€</option>
                                    <option value="16">ì˜¤í›„ 4ì‹œê¹Œì§€</option>
                                    <option value="17">ì˜¤í›„ 5ì‹œê¹Œì§€</option>
                                    <option value="18">ì˜¤í›„ 6ì‹œê¹Œì§€</option>
                                </select>
                            </div>
                            <div id="dayOfWeek" style="font-size: 13px; color: var(--primary); text-align:right;"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>ì¹´ë“œ ë©”ì‹œì§€</label>
                        <textarea id="cardMessage" placeholder="ê½ƒê³¼ í•¨ê»˜ ì „í•  ë©”ì‹œì§€ë¥¼ ì ì–´ì£¼ì„¸ìš” (50ì ì´ë‚´)"></textarea>
                    </div>

                    <div class="form-group">
                        <label>ìš”ì²­ì‚¬í•­</label>
                        <textarea id="request" placeholder="ì˜ˆ) ë¬¸ ì•ì— ë‘ê³  ë²¨ ëˆŒëŸ¬ì£¼ì„¸ìš”, í•‘í¬í†¤ì„ ë” ë§ì´ ë„£ì–´ì£¼ì„¸ìš” ë“±"></textarea>
                    </div>

                    <div class="order-buttons">
                        <button type="button" class="btn-kakao-order" onclick="openKakaoChat()">
                            <svg width="24" height="24" viewBox="0 0 24 24" fill="#191919"><path d="M12 3C6.5 3 2 6.58 2 11c0 2.84 1.88 5.33 4.7 6.77L5.6 21l4.08-2.41c.76.11 1.53.16 2.32.16 5.5 0 10-3.58 10-8s-4.5-8-10-8z"/></svg>
                            ì¹´ì¹´ì˜¤í†¡ìœ¼ë¡œ ì£¼ë¬¸ ì ‘ìˆ˜í•˜ê¸°
                        </button>
                    </div>

                    <div class="order-notice">
                        <p>ğŸ“¢ ìƒë‹´ ê°€ëŠ¥ ì‹œê°„ | í‰ì¼ 09:00 ~ 18:00</p>
                    </div>
                </form>
            </div>
        </section>

        <!-- ê´‘ê³  êµ¬ì¢Œ -->
        <section class="ad-section">
            <div class="ad-placeholder" id="adArea">
                Special Event Banner
            </div>
        </section>

        <!-- í‘¸í„° -->
        <footer class="footer">
            <p><strong>ë¸”ë£¸ ë”œë¦¬ë²„ë¦¬ (Bloom Delivery)</strong></p>
            <p>ê³ ê°ì„¼í„°: 1544-0000 | í‰ì¼ 09:00 - 18:00</p>
            <p>Copyright Â© Bloom Delivery. All rights reserved.</p>
        </footer>
    </div>

    <!-- ì£¼ì†Œ ê²€ìƒ‰ ëª¨ë‹¬ -->
    <div class="modal-overlay" id="placeSearchModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>ì£¼ì†Œ ê²€ìƒ‰</h3>
                <button class="modal-close" onclick="closePlaceSearchModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div class="modal-search-box">
                    <input type="text" class="modal-search-input" id="placeKeyword" placeholder="ë™/ì/ë©´ ë˜ëŠ” ê±´ë¬¼ëª… ì…ë ¥">
                    <button class="modal-search-btn" onclick="searchPlaces()">ê²€ìƒ‰</button>
                </div>
                <div class="search-status" id="placeSearchStatus"></div>
                <ul class="places-list" id="placesList"></ul>
                <div class="pagination" id="placePagination"></div>
            </div>
        </div>
    </div>

    <!-- í† ìŠ¤íŠ¸ ë©”ì‹œì§€ -->
    <div class="toast" id="toast"></div>

    <!-- ìƒí’ˆ í™•ëŒ€ ëª¨ë‹¬ -->
    <div class="image-modal-overlay" id="imageModal">
        <div class="image-modal-content">
            <button class="image-modal-close" onclick="closeImageModal()">&times;</button>
            <div class="image-modal-img" id="imageModalImg"></div>
            <div class="image-modal-info">
                <div class="image-modal-type" id="imageModalType"></div>
                <div class="image-modal-price" id="imageModalPrice" onclick="selectProductFromModal()"></div>
                <div class="image-modal-hint">ğŸ‘† ê°€ê²©ì„ ëˆ„ë¥´ë©´ ë°”ë¡œ ì„ íƒë©ë‹ˆë‹¤</div>
            </div>
        </div>
    </div>

    <!-- ì¹´í†¡ ë¬¸ì˜ í”Œë¡œíŒ… ë²„íŠ¼ -->
    <a href="https://pf.kakao.com/_MGnWn/chat" target="_blank" class="kakao-float-btn">
        <svg viewBox="0 0 24 24"><path d="M12 3C6.5 3 2 6.58 2 11c0 2.84 1.88 5.33 4.7 6.77L5.6 21l4.08-2.41c.76.11 1.53.16 2.32.16 5.5 0 10-3.58 10-8s-4.5-8-10-8z"/></svg>
        <span>ë¬¸ì˜</span>
    </a>

    <!-- ì¹´ì¹´ì˜¤ë§µ SDK -->
    <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=2a2757bfe21447887d8528345d95588d&libraries=services"></script>

    <script>
        // ê½ƒì§‘ ë°ì´í„° (ì´ë¦„, ì‚¬ì§„, ë°°ì†¡ ê°€ëŠ¥ ì§€ì—­ ë“±ë¡)
        // ë°°ì†¡ ê°€ëŠ¥ ì§€ì—­ í˜•ì‹: "ì‹œë„+êµ¬êµ°" (ì˜ˆ: "ì„œìš¸+ì†¡íŒŒêµ¬", "ë¶€ì‚°+ë™êµ¬")
        const flowerShops = [
            {
                id: 'seoul-a',
                name: 'ì„œìš¸A í”Œë¼ì›Œ',
                deliveryAreas: ['ì„œìš¸+ì†¡íŒŒêµ¬', 'ì„œìš¸+ê°•ë‚¨êµ¬', 'ì„œìš¸+ì„œì´ˆêµ¬', 'ì„œìš¸+ê°•ë™êµ¬'],
                flowers: [
                    { img: '', price: '35,000ì›', type: 'ê½ƒë‹¤ë°œ' },
                    { img: '', price: '55,000ì›', type: 'ê½ƒë°”êµ¬ë‹ˆ' },
                    { img: '', price: '75,000ì›', type: 'í”Œë¼ì›Œë°•ìŠ¤' },
                    { img: '', price: '45,000ì›', type: 'ê½ƒë‹¤ë°œ' }
                ]
            },
            {
                id: 'seoul-b',
                name: 'ì„œìš¸B í”Œë¡œë¦¬ìŠ¤íŠ¸',
                deliveryAreas: ['ì„œìš¸+ë§ˆí¬êµ¬', 'ì„œìš¸+ì„œëŒ€ë¬¸êµ¬', 'ì„œìš¸+ì€í‰êµ¬', 'ì„œìš¸+ì¢…ë¡œêµ¬'],
                flowers: [
                    { img: '', price: '40,000ì›', type: 'ê½ƒë‹¤ë°œ' },
                    { img: '', price: '60,000ì›', type: 'ê½ƒë°”êµ¬ë‹ˆ' },
                    { img: '', price: '85,000ì›', type: 'í”Œë¼ì›Œë°•ìŠ¤' }
                ]
            },
            {
                id: 'seoul-c',
                name: 'ì„œìš¸C ê½ƒì§‘',
                deliveryAreas: ['ì„œìš¸+ê°•ë‚¨êµ¬', 'ì„œìš¸+ì¢…ë¡œêµ¬', 'ì„œìš¸+ì¤‘êµ¬', 'ì„œìš¸+ìš©ì‚°êµ¬', 'ì„œìš¸+ì„±ë™êµ¬'],
                flowers: [
                    { img: '', price: '30,000ì›', type: 'ê½ƒë‹¤ë°œ' },
                    { img: '', price: '50,000ì›', type: 'ê½ƒë°”êµ¬ë‹ˆ' },
                    { img: '', price: '70,000ì›', type: 'í”Œë¼ì›Œë°•ìŠ¤' },
                    { img: '', price: '90,000ì›', type: 'í™”ë¶„' },
                    { img: '', price: '120,000ì›', type: 'í™”í™˜' }
                ]
            },
            {
                id: 'busan-dong',
                name: 'ë¶€ì‚°ë™êµ¬í”Œë¼ì›Œ',
                deliveryAreas: ['ë¶€ì‚°+ë™êµ¬', 'ë¶€ì‚°+ì¤‘êµ¬', 'ë¶€ì‚°+ì„œêµ¬', 'ë¶€ì‚°+ì˜ë„êµ¬'],
                flowers: [
                    { img: '', price: '30,000ì›', type: 'ê½ƒë‹¤ë°œ' },
                    { img: '', price: '50,000ì›', type: 'ê½ƒë°”êµ¬ë‹ˆ' },
                    { img: '', price: '70,000ì›', type: 'í”Œë¼ì›Œë°•ìŠ¤' }
                ]
            },
            {
                id: 'gwangju-dong',
                name: 'ê´‘ì£¼ë™êµ¬ê½ƒë°°ë‹¬',
                deliveryAreas: ['ê´‘ì£¼+ë™êµ¬', 'ê´‘ì£¼+ì„œêµ¬', 'ê´‘ì£¼+ë‚¨êµ¬', 'ê´‘ì£¼+ë¶êµ¬'],
                flowers: [
                    { img: '', price: '28,000ì›', type: 'ê½ƒë‹¤ë°œ' },
                    { img: '', price: '48,000ì›', type: 'ê½ƒë°”êµ¬ë‹ˆ' },
                    { img: '', price: '68,000ì›', type: 'í”Œë¼ì›Œë°•ìŠ¤' }
                ]
            },
            {
                id: 'gangnam-flower',
                name: 'ê°•ë‚¨í”Œë¼ì›Œ',
                deliveryAreas: ['ì„œìš¸+ê°•ë‚¨êµ¬', 'ì„œìš¸+ì„œì´ˆêµ¬', 'ì„œìš¸+ì†¡íŒŒêµ¬'],
                flowers: [
                    { img: '', price: '50,000ì›', type: 'ê½ƒë‹¤ë°œ' },
                    { img: '', price: '80,000ì›', type: 'ê½ƒë°”êµ¬ë‹ˆ' },
                    { img: '', price: '100,000ì›', type: 'í”Œë¼ì›Œë°•ìŠ¤' }
                ]
            },
            {
                id: 'jongro-flower',
                name: 'ì¢…ë¡œê½ƒë°°ë‹¬',
                deliveryAreas: ['ì„œìš¸+ì¢…ë¡œêµ¬', 'ì„œìš¸+ì¤‘êµ¬', 'ì„œìš¸+ì„œëŒ€ë¬¸êµ¬', 'ì„œìš¸+ë§ˆí¬êµ¬'],
                flowers: [
                    { img: '', price: '32,000ì›', type: 'ê½ƒë‹¤ë°œ' },
                    { img: '', price: '52,000ì›', type: 'ê½ƒë°”êµ¬ë‹ˆ' },
                    { img: '', price: '72,000ì›', type: 'í”Œë¼ì›Œë°•ìŠ¤' },
                    { img: '', price: '95,000ì›', type: 'í™”ë¶„' }
                ]
            }
        ];

        // ì„ íƒëœ ê½ƒì§‘ ì •ë³´ ì €ì¥
        let selectedShop = null;
        let selectedColorValue = '';
        let selectedAddress = ''; // ê²€ìƒ‰ì—ì„œ ì„ íƒí•œ ì£¼ì†Œ ì €ì¥

        // ì¹´ì¹´ì˜¤ë§µ ì¥ì†Œ ê²€ìƒ‰
        const ps = new kakao.maps.services.Places();
        let currentPagination = null;

        // ëª¨ë‹¬ ì—´ê¸°
        function openPlaceSearchModal() {
            document.getElementById('placeSearchModal').classList.add('show');
            document.getElementById('placeKeyword').focus();
        }

        // ëª¨ë‹¬ ë‹«ê¸°
        function closePlaceSearchModal() {
            document.getElementById('placeSearchModal').classList.remove('show');
            document.getElementById('placeKeyword').value = '';
            document.getElementById('placesList').innerHTML = '';
            document.getElementById('placePagination').innerHTML = '';
            document.getElementById('placeSearchStatus').textContent = '';
        }

        // ì¥ì†Œ ê²€ìƒ‰
        function searchPlaces(page = 1) {
            const keyword = document.getElementById('placeKeyword').value.trim();

            if (!keyword) {
                showToast('ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }

            const listEl = document.getElementById('placesList');
            const statusEl = document.getElementById('placeSearchStatus');
            const paginationEl = document.getElementById('placePagination');

            statusEl.textContent = 'ê²€ìƒ‰ ì¤‘...';
            listEl.innerHTML = '';
            paginationEl.innerHTML = '';

            ps.keywordSearch(keyword, function(data, status, pagination) {
                if (status === kakao.maps.services.Status.OK) {
                    statusEl.textContent = '';
                    currentPagination = pagination;
                    displayPlaces(data);
                    displayPagination(pagination);
                } else if (status === kakao.maps.services.Status.ZERO_RESULT) {
                    statusEl.textContent = 'ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.';
                } else {
                    console.error('ì¥ì†Œ ê²€ìƒ‰ ì˜¤ë¥˜:', status);
                    statusEl.textContent = 'ê²€ìƒ‰ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.';
                }
            }, { page: page, size: 10 });
        }

        // ê²€ìƒ‰ ê²°ê³¼ ëª©ë¡ í‘œì‹œ
        function displayPlaces(places) {
            const listEl = document.getElementById('placesList');
            listEl.innerHTML = '';

            places.forEach(place => {
                const li = document.createElement('li');
                li.className = 'item';

                let itemStr = '<div class="info"><h5>' + place.place_name + '</h5>';

                if (place.road_address_name) {
                    itemStr += '<span>' + place.road_address_name + '</span>';
                } else if (place.address_name) {
                    itemStr += '<span>' + place.address_name + '</span>';
                }

                itemStr += '</div>';
                li.innerHTML = itemStr;

                li.onclick = function() {
                    selectPlace(place);
                };

                listEl.appendChild(li);
            });
        }

        // í˜ì´ì§€ë„¤ì´ì…˜ í‘œì‹œ
        function displayPagination(pagination) {
            const paginationEl = document.getElementById('placePagination');
            paginationEl.innerHTML = '';

            for (let i = 1; i <= pagination.last; i++) {
                const a = document.createElement('a');
                a.href = '#';
                a.textContent = i;

                if (i === pagination.current) {
                    a.className = 'on';
                } else {
                    a.onclick = (function(page) {
                        return function(e) {
                            e.preventDefault();
                            pagination.gotoPage(page);
                        };
                    })(i);
                }

                paginationEl.appendChild(a);
            }
        }

        // ì¥ì†Œ ì„ íƒ
        function selectPlace(place) {
            const address = place.road_address_name || place.address_name;
            selectedAddress = address;
            document.getElementById('searchInput').value = address;
            closePlaceSearchModal();
            showToast('ì£¼ì†Œê°€ ì…ë ¥ë˜ì—ˆìŠµë‹ˆë‹¤');
        }

        // Enter í‚¤ë¡œ ê²€ìƒ‰
        document.getElementById('placeKeyword').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchPlaces();
            }
        });

        // ì§€ì—­ ê²€ìƒ‰ (ê·¼ì²˜ê½ƒì§‘ë³´ê¸°)
        function searchShops() {
            const address = document.getElementById('searchInput').value.trim();

            if (!address) {
                showToast('ì£¼ì†Œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }

            // ì§ì ‘ ì…ë ¥í•œ ì£¼ì†Œë„ ì €ì¥
            selectedAddress = address;

            // ì£¼ì†Œì—ì„œ "ì‹œë„+êµ¬êµ°" í˜•íƒœë¡œ ì¶”ì¶œ
            const areaKey = extractAreaKey(address);

            if (!areaKey) {
                showToast('ì£¼ì†Œì—ì„œ ì§€ì—­ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤');
                return;
            }

            // ë°°ì†¡ ê°€ëŠ¥ ì§€ì—­ì— í•´ë‹¹ ì§€ì—­ì´ í¬í•¨ëœ ê½ƒì§‘ í•„í„°ë§
            const shops = findShopsByDeliveryArea(areaKey);

            if (shops.length === 0) {
                showToast('í•´ë‹¹ ì§€ì—­ì— ë°°ì†¡ ê°€ëŠ¥í•œ ê½ƒì§‘ì´ ì—†ìŠµë‹ˆë‹¤');
                document.getElementById('resultInfo').style.display = 'none';
                document.getElementById('shopList').innerHTML = '';
                return;
            }

            // í‘œì‹œìš© ì§€ì—­ëª… (êµ¬/êµ° ì´ë¦„ë§Œ)
            const displayArea = areaKey.split('+')[1] || areaKey;
            displayShops(displayArea, shops);
        }

        // ì‹œ/ë„ ì´ë¦„ ì •ê·œí™” (ì„œìš¸íŠ¹ë³„ì‹œ -> ì„œìš¸, ë¶€ì‚°ê´‘ì—­ì‹œ -> ë¶€ì‚° ë“±)
        function normalizeCityName(cityName) {
            const cityMap = {
                'ì„œìš¸íŠ¹ë³„ì‹œ': 'ì„œìš¸', 'ì„œìš¸ì‹œ': 'ì„œìš¸', 'ì„œìš¸': 'ì„œìš¸',
                'ë¶€ì‚°ê´‘ì—­ì‹œ': 'ë¶€ì‚°', 'ë¶€ì‚°ì‹œ': 'ë¶€ì‚°', 'ë¶€ì‚°': 'ë¶€ì‚°',
                'ëŒ€êµ¬ê´‘ì—­ì‹œ': 'ëŒ€êµ¬', 'ëŒ€êµ¬ì‹œ': 'ëŒ€êµ¬', 'ëŒ€êµ¬': 'ëŒ€êµ¬',
                'ì¸ì²œê´‘ì—­ì‹œ': 'ì¸ì²œ', 'ì¸ì²œì‹œ': 'ì¸ì²œ', 'ì¸ì²œ': 'ì¸ì²œ',
                'ê´‘ì£¼ê´‘ì—­ì‹œ': 'ê´‘ì£¼', 'ê´‘ì£¼ì‹œ': 'ê´‘ì£¼', 'ê´‘ì£¼': 'ê´‘ì£¼',
                'ëŒ€ì „ê´‘ì—­ì‹œ': 'ëŒ€ì „', 'ëŒ€ì „ì‹œ': 'ëŒ€ì „', 'ëŒ€ì „': 'ëŒ€ì „',
                'ìš¸ì‚°ê´‘ì—­ì‹œ': 'ìš¸ì‚°', 'ìš¸ì‚°ì‹œ': 'ìš¸ì‚°', 'ìš¸ì‚°': 'ìš¸ì‚°',
                'ì„¸ì¢…íŠ¹ë³„ìì¹˜ì‹œ': 'ì„¸ì¢…', 'ì„¸ì¢…ì‹œ': 'ì„¸ì¢…', 'ì„¸ì¢…': 'ì„¸ì¢…',
                'ê²½ê¸°ë„': 'ê²½ê¸°', 'ê²½ê¸°': 'ê²½ê¸°',
                'ê°•ì›íŠ¹ë³„ìì¹˜ë„': 'ê°•ì›', 'ê°•ì›ë„': 'ê°•ì›', 'ê°•ì›': 'ê°•ì›',
                'ì¶©ì²­ë¶ë„': 'ì¶©ë¶', 'ì¶©ë¶': 'ì¶©ë¶',
                'ì¶©ì²­ë‚¨ë„': 'ì¶©ë‚¨', 'ì¶©ë‚¨': 'ì¶©ë‚¨',
                'ì „ë¶íŠ¹ë³„ìì¹˜ë„': 'ì „ë¶', 'ì „ë¼ë¶ë„': 'ì „ë¶', 'ì „ë¶': 'ì „ë¶',
                'ì „ë¼ë‚¨ë„': 'ì „ë‚¨', 'ì „ë‚¨': 'ì „ë‚¨',
                'ê²½ìƒë¶ë„': 'ê²½ë¶', 'ê²½ë¶': 'ê²½ë¶',
                'ê²½ìƒë‚¨ë„': 'ê²½ë‚¨', 'ê²½ë‚¨': 'ê²½ë‚¨',
                'ì œì£¼íŠ¹ë³„ìì¹˜ë„': 'ì œì£¼', 'ì œì£¼ë„': 'ì œì£¼', 'ì œì£¼': 'ì œì£¼'
            };
            return cityMap[cityName] || cityName;
        }

        // ì£¼ì†Œì—ì„œ "ì‹œë„+êµ¬êµ°" í˜•íƒœì˜ í‚¤ ì¶”ì¶œ
        function extractAreaKey(address) {
            // ì‹œ/ë„ ì¶”ì¶œ íŒ¨í„´
            const cityPatterns = [
                /([ê°€-í£]+íŠ¹ë³„ì‹œ)/,
                /([ê°€-í£]+ê´‘ì—­ì‹œ)/,
                /([ê°€-í£]+íŠ¹ë³„ìì¹˜ì‹œ)/,
                /([ê°€-í£]+íŠ¹ë³„ìì¹˜ë„)/,
                /([ê°€-í£]+ë„)/,
                /^(ì„œìš¸|ë¶€ì‚°|ëŒ€êµ¬|ì¸ì²œ|ê´‘ì£¼|ëŒ€ì „|ìš¸ì‚°|ì„¸ì¢…|ê²½ê¸°|ê°•ì›|ì¶©ë¶|ì¶©ë‚¨|ì „ë¶|ì „ë‚¨|ê²½ë¶|ê²½ë‚¨|ì œì£¼)/
            ];

            // êµ¬/êµ° ì¶”ì¶œ íŒ¨í„´
            const districtPatterns = [
                /([ê°€-í£]+êµ¬)/,
                /([ê°€-í£]+êµ°)/,
                /([ê°€-í£]+ì‹œ)(?!íŠ¹ë³„|ê´‘ì—­)/ // ì‹œ ë‹¨ìœ„ (íŠ¹ë³„ì‹œ, ê´‘ì—­ì‹œ ì œì™¸)
            ];

            let city = null;
            let district = null;

            // ì‹œ/ë„ ì¶”ì¶œ
            for (const pattern of cityPatterns) {
                const match = address.match(pattern);
                if (match) {
                    city = normalizeCityName(match[1]);
                    break;
                }
            }

            // êµ¬/êµ° ì¶”ì¶œ
            for (const pattern of districtPatterns) {
                const match = address.match(pattern);
                if (match) {
                    district = match[1];
                    break;
                }
            }

            // ë‘˜ ë‹¤ ìˆìœ¼ë©´ ì¡°í•©
            if (city && district) {
                return city + '+' + district;
            }

            // ì‹œ/ë„ë§Œ ìˆëŠ” ê²½ìš° (ì„¸ì¢…ì‹œ ë“±)
            if (city && !district) {
                return city;
            }

            return null;
        }

        // ë°°ì†¡ ê°€ëŠ¥ ì§€ì—­ìœ¼ë¡œ ê½ƒì§‘ ê²€ìƒ‰
        function findShopsByDeliveryArea(searchKey) {
            return flowerShops.filter(shop => {
                return shop.deliveryAreas.some(area => area === searchKey);
            });
        }

        // ê½ƒì§‘ ëª©ë¡ í‘œì‹œ
        function displayShops(area, shops) {
            const shopList = document.getElementById('shopList');
            const resultInfo = document.getElementById('resultInfo');

            document.getElementById('searchedArea').textContent = area;
            document.getElementById('shopCount').textContent = shops.length;
            resultInfo.style.display = 'block';

            shopList.innerHTML = shops.map((shop, shopIdx) => `
                <div class="shop-card">
                    <div class="shop-header">
                        <span class="shop-name">${shop.name}</span>
                    </div>
                    <div class="gallery-wrapper">
                        <div class="shop-gallery" id="gallery-${shopIdx}" onscroll="updateScrollbar('gallery-${shopIdx}')">
                            ${shop.flowers.map((flower, idx) => `
                                <div class="gallery-item" onclick="openImageModal('${flower.img || ''}', '${flower.price}', '${flower.type}', ${idx + 1}, '${shop.id}', '${shop.name}')">
                                    <div class="gallery-img">${flower.img || 'ì‚¬ì§„ ' + (idx + 1)}</div>
                                    <div class="gallery-info-box">
                                        <span class="gallery-type">${flower.type}</span>
                                        <div class="gallery-price">${flower.price}</div>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        <div class="gallery-nav">
                            <div class="gallery-scrollbar">
                                <div class="gallery-scrollbar-thumb" id="scrollbar-${shopIdx}"></div>
                            </div>
                            <div class="gallery-arrows">
                                <button class="gallery-arrow-btn" onclick="scrollGallery('gallery-${shopIdx}', -1)">
                                    <svg viewBox="0 0 24 24"><path d="M15 18l-6-6 6-6"/></svg>
                                </button>
                                <button class="gallery-arrow-btn" onclick="scrollGallery('gallery-${shopIdx}', 1)">
                                    <svg viewBox="0 0 24 24"><path d="M9 18l6-6-6-6"/></svg>
                                </button>
                            </div>
                        </div>
                    </div>
                    <div class="shop-footer">
                        <button class="select-shop-btn" onclick="selectShop('${shop.id}', '${shop.name}')">ì´ ê½ƒì§‘ ì„ íƒí•˜ê¸°</button>
                    </div>
                </div>
            `).join('');

            // ì´ˆê¸° ìŠ¤í¬ë¡¤ë°” ìƒíƒœ ì„¤ì •
            setTimeout(() => {
                shops.forEach((_, shopIdx) => {
                    updateScrollbar('gallery-' + shopIdx);
                });
            }, 100);
        }

        // ê°¤ëŸ¬ë¦¬ ìŠ¤í¬ë¡¤ (í™”ì‚´í‘œ ë²„íŠ¼)
        function scrollGallery(galleryId, direction) {
            const gallery = document.getElementById(galleryId);
            const itemWidth = 142; // ì•„ì´í…œ ë„ˆë¹„(130px) + gap(12px)
            gallery.scrollLeft += direction * itemWidth;
        }

        // ìŠ¤í¬ë¡¤ë°” ì—…ë°ì´íŠ¸
        function updateScrollbar(galleryId) {
            const gallery = document.getElementById(galleryId);
            const scrollbarThumb = document.getElementById(galleryId.replace('gallery-', 'scrollbar-'));

            const maxScroll = gallery.scrollWidth - gallery.clientWidth;

            if (maxScroll <= 0) {
                scrollbarThumb.style.width = '100%';
                return;
            }

            const scrollPercent = gallery.scrollLeft / maxScroll;
            const thumbWidth = 20 + (scrollPercent * 80); // 20% ~ 100%
            scrollbarThumb.style.width = thumbWidth + '%';
        }

        // ì´ˆê¸° ìŠ¤í¬ë¡¤ë°” ì„¤ì •
        function initScrollbars() {
            document.querySelectorAll('.shop-gallery').forEach(gallery => {
                updateScrollbar(gallery.id);
            });
        }

        // ê½ƒì§‘ ì„ íƒ
        function selectShop(shopId, shopName) {
            selectedShop = { id: shopId, name: shopName };
            document.getElementById('selectedShopName').textContent = shopName;

            // ë°°ì†¡ ì£¼ì†Œ ìë™ ë°˜ì˜
            document.getElementById('receiverAddress').value = selectedAddress;

            // í™”ë©´ ì „í™˜
            document.getElementById('searchSection').style.display = 'none';
            document.getElementById('shopListSection').style.display = 'none';
            document.getElementById('orderSection').classList.add('active');

            // í˜ì´ì§€ ìµœìƒë‹¨ìœ¼ë¡œ ìŠ¤í¬ë¡¤
            window.scrollTo(0, 0);
        }

        // ë’¤ë¡œê°€ê¸°
        function goBack() {
            document.getElementById('searchSection').style.display = 'block';
            document.getElementById('shopListSection').style.display = 'block';
            document.getElementById('orderSection').classList.remove('active');

            // í¼ ì´ˆê¸°í™” (ë°°ì†¡ ì£¼ì†ŒëŠ” ìœ ì§€)
            document.getElementById('flowerType').value = '';
            document.getElementById('priceRange').value = '';
            document.getElementById('senderName').value = '';
            document.getElementById('senderPhone').value = '';
            document.getElementById('receiverName').value = '';
            document.getElementById('receiverPhone').value = '';
            document.getElementById('receiverAddressDetail').value = '';
            document.getElementById('deliveryDate').value = '';
            document.getElementById('deliveryHour').value = '';
            document.getElementById('dayOfWeek').textContent = '';
            document.getElementById('asapDelivery').checked = false;
            document.querySelector('.delivery-date-row').classList.remove('disabled');
            document.getElementById('cardMessage').value = '';
            document.getElementById('request').value = '';
            resetColorSelection();

            window.scrollTo(0, 0);
        }

        // ìƒ‰ìƒ ì„ íƒ
        function selectColor(element) {
            document.querySelectorAll('.color-option').forEach(opt => {
                opt.classList.remove('selected');
            });

            element.classList.add('selected');
            selectedColorValue = element.dataset.color;
            document.getElementById('selectedColor').value = selectedColorValue;
        }

        // ìƒ‰ìƒ ì„ íƒ ì´ˆê¸°í™”
        function resetColorSelection() {
            document.querySelectorAll('.color-option').forEach(opt => {
                opt.classList.remove('selected');
            });
            selectedColorValue = '';
            document.getElementById('selectedColor').value = '';
        }

        // ì¹´ì¹´ì˜¤í†¡ ì±„íŒ… ì—´ê¸°
        function openKakaoChat() {
            window.open('https://pf.kakao.com/_MGnWn/chat', '_blank');
        }

        // ì£¼ë¬¸ ì œì¶œ
        function submitOrder(event) {
            event.preventDefault();

            if (!selectedColorValue) {
                showToast('ì›í•˜ì‹œëŠ” ìƒ‰ìƒì„ ì„ íƒí•´ì£¼ì„¸ìš”');
                return;
            }

            const isAsap = document.getElementById('asapDelivery').checked;
            const orderData = {
                shop: selectedShop,
                flowerType: document.getElementById('flowerType').value,
                priceRange: document.getElementById('priceRange').value,
                color: selectedColorValue,
                sender: {
                    name: document.getElementById('senderName').value,
                    phone: document.getElementById('senderPhone').value
                },
                receiver: {
                    name: document.getElementById('receiverName').value,
                    phone: document.getElementById('receiverPhone').value,
                    address: document.getElementById('receiverAddress').value,
                    addressDetail: document.getElementById('receiverAddressDetail').value
                },
                deliveryDate: isAsap ? 'ìµœëŒ€í•œ ë¹¨ë¦¬' : document.getElementById('deliveryDate').value,
                deliveryHour: isAsap ? '' : document.getElementById('deliveryHour').value,
                cardMessage: document.getElementById('cardMessage').value,
                request: document.getElementById('request').value
            };

            console.log('ì£¼ë¬¸ ë°ì´í„°:', orderData);
            showToast('ì£¼ë¬¸ì´ ì ‘ìˆ˜ë˜ì—ˆìŠµë‹ˆë‹¤!');
        }

        // í† ìŠ¤íŠ¸ ë©”ì‹œì§€ í‘œì‹œ
        function showToast(message) {
            const toast = document.getElementById('toast');
            toast.textContent = message;
            toast.classList.add('show');

            setTimeout(() => {
                toast.classList.remove('show');
            }, 2000);
        }

        // Enter í‚¤ë¡œ ê²€ìƒ‰
        document.getElementById('searchInput').addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                searchShops();
            }
        });

        // ëª¨ë‹¬ ë°”ê¹¥ í´ë¦­ì‹œ ë‹«ê¸°
        document.getElementById('placeSearchModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closePlaceSearchModal();
            }
        });

        // í˜„ì¬ ëª¨ë‹¬ì— í‘œì‹œ ì¤‘ì¸ ìƒí’ˆ ì •ë³´ ì €ì¥
        let currentModalProduct = null;

        // ìƒí’ˆ í™•ëŒ€ ëª¨ë‹¬ ì—´ê¸°
        function openImageModal(img, price, type, index, shopId, shopName) {
            const modal = document.getElementById('imageModal');
            const imgContainer = document.getElementById('imageModalImg');
            const priceEl = document.getElementById('imageModalPrice');
            const typeEl = document.getElementById('imageModalType');

            // í˜„ì¬ ìƒí’ˆ ì •ë³´ ì €ì¥
            currentModalProduct = {
                img: img,
                price: price,
                type: type,
                shopId: shopId,
                shopName: shopName
            };

            if (img) {
                imgContainer.innerHTML = `<img src="${img}" alt="${type}">`;
            } else {
                imgContainer.innerHTML = 'ì‚¬ì§„ ' + index;
            }

            priceEl.textContent = price;
            typeEl.textContent = type;

            modal.classList.add('show');
            document.body.style.overflow = 'hidden';
        }

        // ëª¨ë‹¬ì—ì„œ ìƒí’ˆ ì„ íƒ
        function selectProductFromModal() {
            if (!currentModalProduct) return;

            closeImageModal();
            selectShop(currentModalProduct.shopId, currentModalProduct.shopName);

            // ê½ƒ ì¢…ë¥˜ì™€ ê°€ê²©ëŒ€ ìë™ ì„¤ì •
            setTimeout(() => {
                // ê½ƒ ì¢…ë¥˜ ë§¤ì¹­
                const typeMap = {
                    'ê½ƒë‹¤ë°œ': 'bouquet',
                    'ê½ƒë°”êµ¬ë‹ˆ': 'basket',
                    'í”Œë¼ì›Œë°•ìŠ¤': 'box',
                    'í™”ë¶„': 'plant',
                    'ì‹ë¬¼': 'plant',
                    'í™”í™˜': 'wreath'
                };
                const flowerTypeValue = typeMap[currentModalProduct.type];
                if (flowerTypeValue) {
                    document.getElementById('flowerType').value = flowerTypeValue;
                }

                // ê°€ê²©ëŒ€ ë§¤ì¹­ (ê°€ê²©ì—ì„œ ìˆ«ì ì¶”ì¶œ)
                const priceNum = parseInt(currentModalProduct.price.replace(/[^0-9]/g, ''));
                let priceRangeValue = '';
                if (priceNum <= 40000) priceRangeValue = '30000';
                else if (priceNum <= 60000) priceRangeValue = '50000';
                else if (priceNum <= 85000) priceRangeValue = '70000';
                else if (priceNum <= 120000) priceRangeValue = '100000';
                else priceRangeValue = '150000';

                document.getElementById('priceRange').value = priceRangeValue;

                showToast('ìƒí’ˆì´ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤');
            }, 100);
        }

        // ë‚ ì§œ ì„ íƒì‹œ ìš”ì¼ í‘œì‹œ
        function updateDayOfWeek() {
            const dateInput = document.getElementById('deliveryDate');
            const dayOfWeekEl = document.getElementById('dayOfWeek');

            if (dateInput.value) {
                const date = new Date(dateInput.value);
                const days = ['ì¼', 'ì›”', 'í™”', 'ìˆ˜', 'ëª©', 'ê¸ˆ', 'í† '];
                const dayName = days[date.getDay()];
                dayOfWeekEl.textContent = '(' + dayName + ')';
            } else {
                dayOfWeekEl.textContent = '';
            }
        }

        // ìµœëŒ€í•œ ë¹¨ë¦¬ ì²´í¬ë°•ìŠ¤ í† ê¸€
        function toggleAsapDelivery() {
            const checkbox = document.getElementById('asapDelivery');
            const dateRow = document.querySelector('.delivery-date-row');
            const dateInput = document.getElementById('deliveryDate');
            const hourSelect = document.getElementById('deliveryHour');
            const dayOfWeekEl = document.getElementById('dayOfWeek');

            if (checkbox.checked) {
                dateRow.classList.add('disabled');
                dateInput.value = '';
                hourSelect.value = '';
                dayOfWeekEl.textContent = '';
            } else {
                dateRow.classList.remove('disabled');
            }
        }

        // ìƒí’ˆ í™•ëŒ€ ëª¨ë‹¬ ë‹«ê¸°
        function closeImageModal() {
            const modal = document.getElementById('imageModal');
            modal.classList.remove('show');
            document.body.style.overflow = '';
        }

        // ìƒí’ˆ í™•ëŒ€ ëª¨ë‹¬ ë°”ê¹¥ í´ë¦­ì‹œ ë‹«ê¸°
        document.getElementById('imageModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeImageModal();
            }
        });

        // ESC í‚¤ë¡œ ëª¨ë‹¬ ë‹«ê¸°
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                const imageModal = document.getElementById('imageModal');
                const placeModal = document.getElementById('placeSearchModal');

                if (imageModal.classList.contains('show')) {
                    closeImageModal();
                } else if (placeModal.classList.contains('show')) {
                    closePlaceSearchModal();
                }
            }
        });
    </script>
</body>
</html>
